<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>React | Component Data</title>
  <meta name="viewport" content="width=device-width">
  <meta property="og:title" content="React | Component Data" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="http://facebook.github.io/react/docs/component-data.html" />
  <meta property="og:image" content="http://facebook.github.io/react/img/logo_og.png" />
  <meta property="og:description" content="A JavaScript library for building user interfaces" />

  <link rel="shortcut icon" href="/react/favicon.ico">
  <link rel="alternate" type="application/rss+xml" title="React" href="http://facebook.github.io/react/feed.xml">

  <link rel="stylesheet" href="/react/css/react.css">
  <link rel="stylesheet" href="/react/css/syntax.css">
  <link rel="stylesheet" href="/react/css/codemirror.css">

  <script type="text/javascript" src="//use.typekit.net/vqa1hcx.js"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

  <script type="text/javascript" src="/react/js/codemirror.js"></script>
  <script type="text/javascript" src="/react/js/javascript.js"></script>
  <script type="text/javascript" src="/react/js/react.min.js"></script>
  <script type="text/javascript" src="/react/js/JSXTransformer.js"></script>
  <script type="text/javascript" src="/react/js/live_editor.js"></script>
  <script type="text/javascript" src="/react/js/showdown.js"></script>
</head>
<body>

  <div class="container">

    <div class="nav-main">
      <div class="wrap">
        <a class="nav-home" href="/react/index.html">
          <img class="nav-logo" alt="" src="/react/img/logo_small.png" width="38" height="38">
          React
        </a>
        <ul class="nav-site">
          <li><a href="/react/docs/getting-started.html" class="active">docs</a></li>
          <li><a href="/react/support.html">support</a></li>
          <li><a href="/react/downloads.html">download</a></li>
          <li><a href="/react/blog/">blog</a></li>
          <li><a href="http://github.com/facebook/react">github</a>
        </ul>
        <!-- <iframe src="http://ghbtns.com/github&#45;btn.html?user=facebook&#38;repo=react.js&#38;type=fork"allowtransparency="true" frameborder="0" scrolling="0" width="62" height="20"></iframe> -->
      </div>
    </div>

    

    <section class="content wrap documentationContent">
  <div class="nav-docs">
  <div class="nav-docs-section">
    <h3>Getting started</h3>
    <ul>
      <li><a href="/react/docs/getting-started.html">Getting Started</a></li>
      <li><a href="/react/docs/tutorial.html">Tutorial</a></li>
      <li><a href="/react/docs/common-questions.html">Common Questions</a></li>
    </ul>
  </div>

  <div class="nav-docs-section">
    <h3>Reference</h3>
    <ul>
      <li><a href="/react/docs/syntax.html">JSX Syntax</a></li>
      <li><a href="/react/docs/component-basics.html">Component Basics</a></li>
      <li><a href="/react/docs/component-data.html" class="active">Component Data</a></li>
      <li><a href="/react/docs/component-lifecycle.html">Component Lifecycle</a></li>
      <li><a href="/react/docs/event-handling.html">Event Handling</a></li>
      <li><a href="/react/docs/advanced-components.html">Advanced Components</a></li>
      <li><a href="/react/docs/mixins.html">Mixins</a></li>
      <li><a href="/react/docs/api.html">API</a></li>
    </ul>
  </div>
</div>


  <div class="inner-content">
    <h1>Component Data</h1>
    <div class="subHeader">How is data passed into a component?</div>
    <h2>Props</h2>

<p>Components use data to determine what should be rendered. For example:</p>
<div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">LikeLink</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">text</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">liked</span> <span class="o">?</span> <span class="s1">&#39;Liked&#39;</span> <span class="o">:</span> <span class="s1">&#39;Like&#39;</span><span class="p">;</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">a</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">text</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/a&gt;;</span>
  <span class="p">}</span>
<span class="p">});</span>
<span class="kd">var</span> <span class="nx">myLikeLink</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">LikeLink</span> <span class="nx">liked</span><span class="o">=</span><span class="p">{</span><span class="kc">false</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
</code></pre></div>
<p>In this example, <code>LikeLink</code> takes <code>liked</code> as boolean data. This type of data
that is passed in is called a &quot;prop&quot;. Examples of props on DOM components
include <code>className</code> and <code>onClick</code>.</p>

<p>Whenever a component&#39;s props change, its <code>render()</code> function will be
re-evaluated and the DOM will be updated. React will ensure that the DOM is
always kept up-to-date.</p>

<h2>State</h2>

<p>Let&#39;s build a small <code>LikeApp</code> application that makes use of the <code>&lt;LikeLink&gt;</code>
component from above. It should start off unliked and we should be able to like
it by clicking the link:</p>
<div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">LikeApp</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">isClicked</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">LikeLink</span> <span class="nx">liked</span><span class="o">=</span><span class="p">{</span><span class="nx">isClicked</span><span class="p">}</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleClick</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">)}</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="nx">handleClick</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Somehow update `isClicked`.</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>This renders a <code>&lt;LikeLink&gt;</code> with a click listener. However, it is not clear how
<code>handleClick</code> should update <code>isClicked</code> to true. <code>LikeApp</code> needs a way to store
<strong>state</strong> about whether or not it has been clicked.</p>

<h3>State vs. Props</h3>

<p>State is data that is managed <em>internally</em> by a composite component. Like props,
the <code>render()</code> function will be re-evaluated whenever state changes. Props and
state differ in that:</p>

<ul>
<li>Props are passed in from the creator.</li>
<li>State is private to and managed by the component.</li>
</ul>

<h3>Managing State</h3>

<p>Let&#39;s update our <code>LikeApp</code> component using state:</p>
<div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">LikeApp</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
<span class="hll">  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="hll">    <span class="k">return</span> <span class="p">{</span><span class="nx">isClicked</span><span class="o">:</span> <span class="kc">false</span><span class="p">};</span>
</span><span class="hll">  <span class="p">},</span>
</span>  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="hll">    <span class="kd">var</span> <span class="nx">isClicked</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">isClicked</span><span class="p">;</span>
</span>    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">LikeLink</span> <span class="nx">liked</span><span class="o">=</span><span class="p">{</span><span class="nx">isClicked</span><span class="p">}</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleClick</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">)}</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="nx">handleClick</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="hll">    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">isClicked</span><span class="o">:</span> <span class="kc">true</span><span class="p">});</span>
</span>  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>There&#39;s a lot going on here, so let&#39;s work our way from top to bottom:</p>

<ul>
<li><code>getInitialState()</code> describes what state data looks like when the component
is created.</li>
<li>In <code>render()</code>, state data can be accessed via <code>this.state</code>.</li>
<li>When the link is clicked, we update state using <code>setState()</code>.</li>
</ul>

<p>Now when we click the link, the <code>&lt;LikeLink&gt;</code> will get updated, right? Wrong.</p>

<h2>Transferring Props</h2>

<p>If you have been following carefully, you may have noticed that although we pass
a click handler into <code>&lt;LikeLink&gt;</code> as a prop, <code>LikeLink</code> does not do anything
with <code>this.props.onClick</code>! Let&#39;s fix that.</p>
<div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">LikeLink</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">text</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">liked</span> <span class="o">?</span> <span class="s1">&#39;Liked&#39;</span> <span class="o">:</span> <span class="s1">&#39;Like&#39;</span><span class="p">;</span>
<span class="hll">    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">a</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">onClick</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">text</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/a&gt;;</span>
</span>  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>Although this works, realize that this would quickly become tedious if we wanted
to also transfer <code>href</code>, <code>title</code>, <code>target</code>, and other events from <code>this</code> to the
rendered <code>&lt;a&gt;</code>. React provides a convenience method, <code>transferPropsTo()</code>, for
transferring props:</p>
<div class="highlight"><pre><code class="javascript language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">LikeLink</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">text</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">liked</span> <span class="o">?</span> <span class="s1">&#39;Liked&#39;</span> <span class="o">:</span> <span class="s1">&#39;Like&#39;</span><span class="p">;</span>
<span class="hll">    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">transferPropsTo</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">a</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">text</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/a&gt;);</span>
</span>  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>This will transfer all props from <code>this</code> to the specified component (including
<code>onClick</code>).</p>

<h2>Summary</h2>

<p>Now we are done. <code>LikeApp</code> renders an unliked link which, when clicked, will:</p>

<ol>
<li>Update the internal state of <code>LikeApp</code>.</li>
<li>Change the props passed into <code>LikeLink</code>.</li>
<li>Change the return value of <code>render()</code>.</li>
<li>Trigger an update to the DOM.</li>
</ol>

<p>It&#39;s worth noting that React will handle new return values of <code>render()</code> by
making the minimal set of mutations necessary to bring the DOM up-to-date. In
this case, only the <code>textContent</code> of the rendered link will be mutated.</p>

<p>In summary:</p>

<ul>
<li>Props are passed in whereas state is managed internally by a component.</li>
<li>Never mutate <code>this.props</code> or <code>this.state</code>. You should pass props into other
components and mutate state using <code>setState()</code>.</li>
<li>State is private. Never read <code>state</code> or call <code>setState()</code> on
anything but <code>this</code>.</li>
<li>Whenever props or state changes, <code>render()</code> will be re-evaluated and the DOM
updated. Also, <code>render()</code> should not depend on anything besides <code>this.props</code>
and <code>this.state</code>.</li>
</ul>


    <div class="docs-prevnext">
      
        <a class="docs-prev" href="/react/docs/component-basics.html">&larr; Prev</a>
      
      
        <a class="docs-next" href="/react/docs/component-lifecycle.html">Next &rarr;</a>
      
    </div>
  </div>
</section>


    <footer class="wrap">
      <div class="left">A Facebook &amp; Instagram collaboration.</div>
      <div class="right">&copy; 2013 Facebook Inc.</div>
    </footer>
  </div>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-41298772-1', 'facebook.github.io');
    ga('send', 'pageview');

    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
  </script>
</body>
</html>

